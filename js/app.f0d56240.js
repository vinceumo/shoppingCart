(function(t){function e(e){for(var n,c,a=e[0],i=e[1],u=e[2],d=0,h=[];d<a.length;d++)c=a[d],r[c]&&h.push(r[c][0]),r[c]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n]);l&&l(e);while(h.length)h.shift()();return s.push.apply(s,u||[]),o()}function o(){for(var t,e=0;e<s.length;e++){for(var o=s[e],n=!0,a=1;a<o.length;a++){var i=o[a];0!==r[i]&&(n=!1)}n&&(s.splice(e--,1),t=c(c.s=o[0]))}return t}var n={},r={app:0},s=[];function c(e){if(n[e])return n[e].exports;var o=n[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,c),o.l=!0,o.exports}c.m=t,c.c=n,c.d=function(t,e,o){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(c.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)c.d(o,n,function(e){return t[e]}.bind(null,n));return o},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/shoppingCart/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],i=a.push.bind(a);a.push=e,a=a.slice();for(var u=0;u<a.length;u++)e(a[u]);var l=i;s.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("56d7")},"02c5":function(t,e,o){"use strict";var n=o("a5cd"),r=o.n(n);r.a},"273b":function(t,e,o){"use strict";var n=o("b810"),r=o.n(n);r.a},"507a":function(t,e,o){},5408:function(t,e,o){},"56d7":function(t,e,o){"use strict";o.r(e);o("cadf"),o("551c"),o("f751"),o("097d");var n=o("2b0e"),r=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"app"}},[t._m(0),o("NotificationBanner"),o("div",{staticClass:"container"},[o("h2",[t._v("Products:")]),o("main",{class:t.basketItems.length?"has-basket":"",attrs:{id:"main-content"}},[o("ProductListing",{attrs:{products:t.products},on:{onAddToBasket:t.getAddToBasket}}),t.basketItems.length?o("ProductBasket",{attrs:{basketItems:t.basketItems},on:{onRemoveToBasket:t.getRemoveToBasket}}):t._e()],1)])],1)},s=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"container"},[o("h1",[t._v("Shopping: ")])])}],c=(o("20d6"),o("ac6a"),o("89a8")),a=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},i=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"notification-banner"},[o("div",{staticClass:"container"},[o("h2",[t._v("Vouchers:")]),o("ul",{staticClass:"list-unstyled"},[o("li",[t._v("£5.00 off your order: "),o("b",[t._v("5off")])]),o("li",[t._v("£10.00 off when you spend over £50.00: "),o("b",[t._v("10offOver50")])]),o("li",[t._v("£15.00 off when you have bought at least one footwear item and spent over £75.00: "),o("b",[t._v("15offOver75Footwear")])])])])])}],u=(o("02c5"),o("2877")),l={},d=Object(u["a"])(l,a,i,!1,null,"d5adc854",null),h=d.exports,p=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("section",[o("ul",{staticClass:"list-unstyled product-listing"},t._l(t.products,function(e,n){return o("ProductCard",{key:n,attrs:{index:n,product:e},on:{onAddToBasket:t.getAddToBasket}})}),1)])},f=[],v=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("li",{staticClass:"product-card"},[o("h3",[t._v(t._s(t.product.name))]),o("p",{staticClass:"category"},[t._v(t._s(t.product.category))]),0===t.product.discount?o("p",[o("b",[t._v(t._s(t._f("currency")(t.product.price)))])]):o("p",[o("b",[o("del",[t._v(t._s(t._f("currency")(t.product.price)))]),t._v(" | "+t._s(t._f("currency")(t.product.price-t.product.discount)))])]),o("p",[t._v("Quantity left: "+t._s(t.product.quantityInStock))]),o("button",{staticClass:"btn is-gradient",attrs:{disabled:0===t.product.quantityInStock},on:{click:function(e){return t.addToBasket(t.index)}}},[t._v("\n    Add to basket\n  ")])])},m=[],b=(o("c5f6"),{props:{index:Number,product:Object},methods:{addToBasket:function(t){this.$emit("onAddToBasket",t)}}}),k=b,g=(o("e318"),Object(u["a"])(k,v,m,!1,null,"2033272c",null)),y=g.exports,_={components:{ProductCard:y},props:{products:Array},methods:{getAddToBasket:function(t){this.$emit("onAddToBasket",t)}}},B=_,w=(o("75a7"),Object(u["a"])(B,p,f,!1,null,"1dbab63a",null)),I=w.exports,S=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("section",{staticClass:"product-basket",class:t.showBasket?"has-basket-open":""},[o("div",{staticClass:"basket-toggle"},[o("button",{staticClass:"btn is-primary",on:{click:t.toggleBasket}},[t._v("Basket")])]),o("div",{staticClass:"product-basket-content",attrs:{rel:"basketContent"}},[o("ul",{staticClass:"list-unstyled product-list"},t._l(t.basketItems,function(e,n){return o("li",{key:n+e.id},[o("p",[o("b",[t._v(t._s(e.name))]),t._v(" x "+t._s(e.quantityInBasket))]),o("p",[t._v("total: "+t._s(t._f("currency")(e.quantityInBasket*e.price-e.discount)))]),o("button",{staticClass:"btn is-danger",on:{click:function(o){return t.removeToBasket(e.id)}}},[t._v("Remove Item")])])}),0),o("div",{staticClass:"voucher-bar"},[t._m(0),o("input",{directives:[{name:"model",rawName:"v-model",value:t.voucherInput,expression:"voucherInput"}],attrs:{type:"text",id:"voucher"},domProps:{value:t.voucherInput},on:{input:function(e){e.target.composing||(t.voucherInput=e.target.value)}}}),o("button",{staticClass:"btn is-primary",attrs:{disabled:""===t.voucherInput},on:{click:function(e){return t.submitVoucher()}}},[t._v("\n        Submit\n      ")])]),t.voucherErrorMsg?o("p",{staticClass:"error-msg"},[t._v(t._s(t.voucherErrorMsg))]):t._e(),t.voucherDiscount>0?o("div",[o("p",[o("b",[t._v("Discount: ")]),t._v(t._s(t._f("currency")(t.voucherDiscount)))]),o("p",[o("b",[t._v("Total: \n          "),o("del",[t._v(t._s(t._f("currency")(t.total)))]),t._v(" | \n          "+t._s(t._f("currency")(t.totalWithVoucherDiscount)))])])]):o("p",[o("b",[t._v("Total: "+t._s(t._f("currency")(t.total)))])]),o("button",{staticClass:"btn is-gradient"},[t._v("Checkout")])])])},C=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("label",{attrs:{for:"voucher"}},[o("b",[t._v("Voucher: ")])])}],q=(o("ac4d"),o("8a81"),{props:{basketItems:Array},data:function(){return{voucherInput:"",submitedVoucher:"",voucherErrorMsg:"",voucherDiscount:0,showBasket:!1}},methods:{toggleBasket:function(){this.showBasket=!this.showBasket},removeToBasket:function(t){this.$emit("onRemoveToBasket",t)},submitVoucher:function(){this.submitedVoucher=this.voucherInput,this.getVoucherDiscount()},getVoucherDiscount:function(){switch(this.submitedVoucher){case"5off":this.voucherDiscount=5;break;case"10offOver50":this.total>=50?(this.voucherDiscount=10,this.voucherErrorMsg=""):(this.voucherDiscount=0,this.voucherErrorMsg="You need to spend over £50.00 to use this voucher");break;case"15offOver75Footwear":var t=this.basketItems.filter(function(t){return"Women’s Footwear"===t.category||"Men’s Footwear"===t.category});this.total>=75&&t.length?(this.voucherDiscount=15,this.voucherErrorMsg=""):this.total<75&&t.length?(this.voucherDiscount=0,this.voucherErrorMsg="You need to spend over £75.00 to use this voucher"):this.total>=75&&0===t.length?(this.voucherDiscount=0,this.voucherErrorMsg="You need at least one footwear item to use this voucher"):(this.voucherDiscount=0,this.voucherErrorMsg="You need at least one footwear item and to spend over £75.00, to use this voucher");break;default:this.voucherDiscount=0,this.voucherErrorMsg="".concat(this.submitedVoucher," is not a valid voucher code");break}}},computed:{total:function(){var t=0,e=!0,o=!1,n=void 0;try{for(var r,s=this.basketItems[Symbol.iterator]();!(e=(r=s.next()).done);e=!0){var c=r.value;t+=c.quantityInBasket*c.price-c.discount}}catch(a){o=!0,n=a}finally{try{e||null==s.return||s.return()}finally{if(o)throw n}}return t},totalWithVoucherDiscount:function(){return this.total-this.voucherDiscount}},watch:{basketItems:function(){this.submitedVoucher&&this.getVoucherDiscount()}}}),M=q,T=(o("273b"),Object(u["a"])(M,S,C,!1,null,"ded6047a",null)),O=T.exports,D=o("be30"),F={name:"app",components:{NotificationBanner:h,ProductBasket:O,ProductListing:I},data:function(){return{products:c,basketItems:[],mobileBasketIsOpen:!1}},created:function(){this.products.forEach(function(t,e){t.id="p".concat(e)})},mounted:function(){Object(D["a"])()},methods:{getAddToBasket:function(t){this.products[t].quantityInStock--,this.products[t].quantityInBasket?this.products[t].quantityInBasket++:this.products[t].quantityInBasket=1,this.updtateBasketItems()},getRemoveToBasket:function(t){var e=this.products.findIndex(function(e){return e.id===t});this.products[e].quantityInStock++,this.products[e].quantityInBasket--,this.updtateBasketItems()},updtateBasketItems:function(){this.basketItems=this.products.filter(function(t){return t.quantityInBasket>0})}}},x=F,E=(o("5c0b"),Object(u["a"])(x,r,s,!1,null,null,null)),P=E.exports,j=o("9483");Object(j["a"])("".concat("/shoppingCart/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});o("507a");n["a"].config.productionTip=!1,n["a"].filter("currency",function(t){return t?t.toLocaleString("en-GB",{style:"currency",currency:"GBP"}):""}),new n["a"]({render:function(t){return t(P)}}).$mount("#app")},"5c0b":function(t,e,o){"use strict";var n=o("8fba"),r=o.n(n);r.a},"642a":function(t,e,o){},"75a7":function(t,e,o){"use strict";var n=o("642a"),r=o.n(n);r.a},"89a8":function(t){t.exports=[{name:"Almond Toe Court Shoes, Patent Black",category:"Women’s Footwear",price:99,quantityInStock:5,discount:0},{name:"Suede Shoes, Blue",category:"Women’s Footwear",price:42,quantityInStock:4,discount:0},{name:"Leather Driver Saddle Loafers, Tan",category:"Men’s Footwear",price:34,quantityInStock:12,discount:0},{name:"Flip Flops, Red",category:"Men’s Footwear",price:19,quantityInStock:6,discount:0},{name:"Flip Flops, Blue",category:"Men’s Footwear",price:19,quantityInStock:0,discount:0},{name:"Gold Button Cardigan, Black",category:"Women’s Casualwear",price:167,quantityInStock:6,discount:0},{name:"Cotton Shorts, Medium Red",category:"Women’s Casualwear",price:30,quantityInStock:5,discount:0},{name:"Fine Stripe Short Sleeve Shirt, Grey",category:"Men’s Casualwear",price:49.99,quantityInStock:9,discount:0},{name:"Fine Stripe Short Sleeve Shirt, Green",category:"Men’s Casualwear",price:49.99,quantityInStock:3,discount:10},{name:"Sharkskin Waistcoat, Charcoal",category:"Men’s Formalwear",price:75,quantityInStock:2,discount:0},{name:"Lightweight Patch Pocket Blazer, Deer",category:"Men’s Formalwear",price:175.5,quantityInStock:1,discount:0},{name:"Bird Print Dress, Black",category:"Women’s Formalwear",price:270,quantityInStock:10,discount:0},{name:"Mid Twist Cut-Out Dress, Pink",category:"Women’s Formalwear",price:540,quantityInStock:5,discount:0}]},"8fba":function(t,e,o){},a5cd:function(t,e,o){},b810:function(t,e,o){},e318:function(t,e,o){"use strict";var n=o("5408"),r=o.n(n);r.a}});
//# sourceMappingURL=app.f0d56240.js.map